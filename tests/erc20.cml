use roleDelegation

model erc20

constant name string

constant total uint

constant symbol string

role [%delegable] holder

asset tokenHolder identified by holder = {
  holder : holder;
  tokens : uint;
}

transaction transfer = {

  args = {
    creditor : tokenHolder ref;
    quantity : uint;
  }

  called by tokenHolder.holder;

  action :
    creditor.tokens +:= quantity,
    (tokenHolder.get caller).tokens -:= quantity

  assert : () (* sum tokens before = sum tokens after *)
}
