use roleDelegation

model erc20

constant name string

constant total uint

constant symbol string

role[%delegable] holder

asset tokenHolder identified by holder = {
  holder : holder;
  tokens : uint
}

transaction transfer_ (creditor : tokenHolder) (quantity : uint) = {
  called by tokenHolder.holder
  specification
    sum(tokens) = sum(tokens);
    before.tokenHolder.sum(tokens) = after.tokenHolder.sum(tokens)

  action
    creditor.tokens += quantity;
    (tokenHolder.get caller).tokens -= quantity
}
