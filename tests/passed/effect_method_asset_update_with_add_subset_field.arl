archetype effect_method_asset_update_with_add_subset_field

asset my_asset_simple identified by str {
  str : string
}

asset my_asset identified by id {
  id : string;
  value : int;
  mysubset : my_asset_simple subset;
} initialized by {
  { "my_id"; 0; [] }
}

entry exec () {
  effect {
    my_asset.update ("my_id", {value = 3; mysubset += [{str = "str1"}; {str = "str2"}; {str = "str3"}] })
    (*
    sugar for
    my_asset.update ("my_id", {value = 3});
    my_asset.get("my_id").mysubset.add({str = "str1"});
    my_asset.get("my_id").mysubset.add({str = "str2"});
    my_asset.get("my_id").mysubset.add({str = "str3"})
    *)

  }
}
